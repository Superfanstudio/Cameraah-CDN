function initPhonePreviewer(){var e=new Preview3D;e.init()}function setFullHeight(){var e=$(".full-page"),t=$(window);Webflow.resize.on(function(){e.height(t.height())})}var phoneContainer=$("#phoneContainer"),phoneInnerImage=$("#phoneInnerImage"),phoneOverlay=$("#phoneContainer .overlay"),phoneFrame=$("#phoneFrame"),btnStartDemo=$("#Button-Start-Demo"),divDeviceSelector=$("#Device-Selection");const PHONE_BG_URL="https://uploads-ssl.webflow.com/6049feb0a862ecb2aaeba05e/609bd2de347bb22c54a16609_FG.png",IPHONE_FRAME_URL="https://uploads-ssl.webflow.com/6049feb0a862ecb2aaeba05e/6071cb91a4f8de6dee978226_iphone_frame.png",IPAD_FRAME_URL="https://uploads-ssl.webflow.com/6049feb0a862ecb2aaeba05e/60868c44d877c1fcbed4704b_iPad.png";class Preview3D{constructor(){this.util=new PreviewUtil;let e=1.4;this.devices=[{iconClass:".iphone-icon",frameURL:IPHONE_FRAME_URL,dimens:{w:200*e,h:400*e,br:50}},{iconClass:".ipad-icon",frameURL:IPAD_FRAME_URL,dimens:{w:593*e,h:426*e,br:15}}],this.isDraggingPhone=!1,this.exitTryCount=0,this.maxExitTries=2}init(){this.addEvents();var e=this;Webflow.resize.on(function(){e.adjustInnerImageDimens()}),this.saveInitialPhonePosition(),this.movePhone(),phoneContainer.fadeIn(300),this.loadDeviceImages(),this.setupDeviceSelectors()}saveInitialPhonePosition(){let e=phoneContainer,t=$(window).width(),i=$(window).height(),n=e.width(),o=e.height();this.lastPhonePosition={x:(t-n)/2,y:i-o-50}}movePhone(e,t,i=!1){let n=phoneContainer,o="."+n.attr("class"),{x:a,y:s}=this.lastPhonePosition;e&&t||this.saveInitialPhonePosition(),e=null==e?this.lastPhonePosition.x:e,t=null==t?this.lastPhonePosition.y:t;let r=$(window).width(),h=$(window).height(),d=n.width(),l=n.height();e=this.util.snapTo(e,0,r-d),t=this.util.snapTo(t,0,h-l),i?gsap.fromTo(o,{x:a,y:s},{x:e,y:t,duration:.3}):n.css({transform:`translate(${e}px, ${t}px)`}),this.moveBG(e,t,i),this.lastPhonePosition.x=e,this.lastPhonePosition.y=t}loadDeviceImages(){this.util.loadImages([PHONE_BG_URL,IPHONE_FRAME_URL],this.doInitialAnimation.bind(this))}moveBG(e,t,i){let n=phoneInnerImage,o="."+n.attr("class"),a=e+this.bgPositionOffset,s=t,r={backgroundPosition:`-${a}px -${s}px`,duration:.3};i?gsap.to(o,r):n.css(r)}setupDeviceSelectors(){let e=divDeviceSelector,t=this.devices;t.forEach(t=>{let{iconClass:i}=t,n=e.find(i);if(0==n.length)return;let o=encodeURIComponent(JSON.stringify(t));n.attr("data-device",o),n.on("click",this.updateActiveDevice.bind(this))})}doInitialAnimation(e=1){let t=phoneContainer,{x:i,_:n}=this.util.getXYTransform(t),o=gsap.timeline({onUpdate:()=>{let{x:e,y:i}=this.util.getXYTransform(t);this.moveBG(e,i)}});o.to($(".overlay .spinner"),{opacity:0,duration:.3}),o.to(t,{opacity:1,duration:.3},0),o.to(phoneOverlay,{opacity:.9,duration:.3},0),o.fromTo(t,{x:i},{x:i-100*e}),o.to(t,{x:`+=${200*e}`}),o.to(t,{x:`-=${100*e}`}),o.to(btnStartDemo,{opacity:1,duration:.3})}updateActiveDevice(e){let t=$(e.target),i=t.attr("data-device"),n=JSON.parse(decodeURIComponent(i)),o=phoneContainer,a=phoneFrame,s=phoneInnerImage,{dimens:r,frameURL:h}=n;divDeviceSelector.children().removeClass("active"),t.addClass("active"),a.css({"background-image":`url(${h})`,"border-radius":`${r.br}px`}),o.css({height:r.h,width:r.w,"border-radius":`${r.br}px`}),s.css({"border-radius":`${r.br}px`}),this.movePhone(void 0,void 0,!1),setTimeout(()=>this.doInitialAnimation((r.w<r.h)+1),200)}addEvents(){let e=phoneContainer,t=btnStartDemo;t.on("click",e=>{this.enterPreviewMode({x:e.pageX,y:e.pageY})}),e.on("click",e=>{this.isDraggingPhone&&this.exitPreviewMode()})}enterPreviewMode(e){let t=phoneContainer,i=btnStartDemo,n=divDeviceSelector;this.isDraggingPhone=!0,this.mouseOffset={x:t.width()/2,y:t.height()/2},$(".nav-copy, .nav-shadow").fadeOut(300),i.fadeOut(300),n.fadeOut(300),$("#main-heading").fadeOut(300),t.css("cursor","none"),e&&this.movePhone(e.x-t.width()/2,e.y-t.height()/2,!0),this.moveHandler=this.mouseMoveHandler.bind(this),$(document).bind("mousemove",this.moveHandler),gsap.to(phoneOverlay,{opacity:0,duration:.3},0)}exitPreviewMode(){if(++this.exitTryCount!=this.maxExitTries)return;this.exitTryCount=0;let e=btnStartDemo;this.isDraggingPhone=!1,$(".nav-copy, .nav-shadow").fadeIn(300),e.fadeIn(300),$("#main-heading").fadeIn(300),phoneContainer.css("cursor","default"),this.movePhone(void 0,void 0,!0),$(document).unbind("mousemove",this.moveHandler),this.mouseOffset=void 0,gsap.to(phoneOverlay,{opacity:.9,duration:.3},0)}adjustInnerImageDimens(){this.actualImage=new Image,this.actualImage.src=phoneInnerImage.css("background-image").replace(/"/g,"").replace(/url\(|\)$/gi,""),$(this.actualImage).bind("load",this.innerImageLoadHandler.bind(this))}innerImageLoadHandler(){let e=this.actualImage.width,t=this.actualImage.height,i=$(window).height(),n=$(window).width(),o=i/t,a=e*o,s=t*o,r=a-n,h=r/2;this.bgPositionOffset=h,phoneInnerImage.css({backgroundSize:`${a}px ${s}px`}),this.movePhone()}mouseMoveHandler(e){let t=this.mouseOffset;if(!t)return;let i=e.clientX,n=e.clientY,o=i-t.x,a=n-t.y+$(window).scrollTop();this.movePhone(o,a)}}class PreviewUtil{snapTo(e,t,i){return e<t?t:e>i?i:e}getXYTransform(e){let t=e.css("transform").replace(/[^0-9\-.,]/g,"").split(",").map(e=>parseFloat(e));return{x:t[4],y:t[5]}}loadImages(e,t){var i=0,n=e.length;const o=()=>0==--n&&t();for(;i<e.length;){const t=new Image;t.src=e[i++]+"",t.onload=o}}}try{Webflow.push(setFullHeight),Webflow.push(initPhonePreviewer)}catch(e){console.log("error in landing-experience script")}