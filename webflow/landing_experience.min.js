function initPhonePreviewer(){var e=new Preview3D;e.init()}function setFullHeight(){var e=$(".full-page"),t=$(window);Webflow.resize.on(function(){e.height(t.height())})}var phoneContainer=$("#phoneContainer"),phoneInnerImage=$("#phoneInnerImage"),phoneFrame=$("#phoneFrame"),btnStartDemo=$("#Button-Start-Demo"),divDeviceSelector=$("#Device-Selection");class Preview3D{constructor(){let e=1.4;this.devices=[{iconClass:".iphone-icon",frameURL:"https://uploads-ssl.webflow.com/6049feb0a862ecb2aaeba05e/6071cb91a4f8de6dee978226_iphone_frame.png",dimens:{w:200*e,h:400*e,br:50}},{iconClass:".ipad-icon",frameURL:"https://uploads-ssl.webflow.com/6049feb0a862ecb2aaeba05e/60868c44d877c1fcbed4704b_iPad.png",dimens:{w:593*e,h:426*e,br:15}}],this.isDraggingPhone=!1}init(){this.addEvents();var e=this;Webflow.resize.on(function(){e.adjustInnerImageDimens(),e.placeShowDemoButton()}),this.saveInitialPhonePosition(),this.movePhone(),this.placeShowDemoButton(),this.setupDeviceSelectors(),this.doInitialAnimation()}saveInitialPhonePosition(){let e=phoneContainer,t=$(window).width(),i=$(window).height(),n=e.width(),o=e.height();this.lastPhonePosition={x:(t-n)/2,y:i-o-50}}movePhone(e,t,i=!1){let n=phoneContainer,o=phoneInnerImage,a="."+n.attr("class"),s="."+o.attr("class"),{x:h,y:r}=this.lastPhonePosition;e&&t||this.saveInitialPhonePosition(),e=e||this.lastPhonePosition.x,t=t||this.lastPhonePosition.y;let d=$(window).width(),l=$(window).height(),c=n.width(),m=n.height();e=this.snapTo(e,0,d-c),t=this.snapTo(t,0,l-m),i?gsap.fromTo(a,{x:h,y:r},{x:e,y:t,duration:.3}):n.css({transform:`translate(${e}px, ${t}px)`});let g=e+this.bgPositionOffset,p=t,v={backgroundPosition:`-${g}px -${p}px`,duration:.3};i?gsap.to(s,v):o.css(v),this.lastPhonePosition.x=e,this.lastPhonePosition.y=t}placeShowDemoButton(){let e=btnStartDemo,t=e.width(),i=e.height(),n=phoneContainer,o=this.lastPhonePosition,a=o.x,s=o.y,h=n.width(),r=(n.height(),a+h/2-t/2),d=s-i-100;e.css({left:r,top:d}),e.show()}setupDeviceSelectors(){let e=divDeviceSelector,t=this.devices;t.forEach(t=>{let{iconClass:i}=t,n=e.find(i);if(0==n.length)return;let o=encodeURIComponent(JSON.stringify(t));n.attr("data-device",o),n.on("click",this.updateActiveDevice.bind(this))})}doInitialAnimation(){let e=phoneContainer,t=gsap.timeline();t.to(e,{opacity:1}),t.to(e,{x:"-=100"}),t.to(e,{x:"+=200"}),t.to(e,{x:"-=100"})}updateActiveDevice(e){let t=$(e.target).attr("data-device"),i=JSON.parse(decodeURIComponent(t)),n=phoneContainer,o=phoneFrame,a=phoneInnerImage,{dimens:s,frameURL:h}=i;o.css({"background-image":`url(${h})`,"border-radius":`${s.br}px`}),n.css({height:s.h,width:s.w,"border-radius":`${s.br}px`}),a.css({"border-radius":`${s.br}px`}),this.movePhone(void 0,void 0,!1)}addEvents(){let e=phoneContainer,t=btnStartDemo;t.on("click",e=>{this.enterPreviewMode({x:e.pageX,y:e.pageY})}),e.on("click",e=>{this.isDraggingPhone&&this.exitPreviewMode()})}enterPreviewMode(e){let t=phoneContainer,i=btnStartDemo,n=divDeviceSelector;this.isDraggingPhone=!0,this.mouseOffset={x:t.width()/2,y:t.height()/2},$(".nav-copy, .nav-shadow").fadeOut(300),i.fadeOut(300),n.fadeOut(300),$("#main-heading").fadeOut(300),e&&this.movePhone(e.x-t.width()/2,e.y-t.height()/2,!0),this.moveHandler=this.mouseMoveHandler.bind(this),$(document).bind("mousemove",this.moveHandler)}exitPreviewMode(){let e=btnStartDemo,t=divDeviceSelector;this.isDraggingPhone=!1,$(".nav-copy, .nav-shadow").fadeIn(300),e.fadeIn(300),t.fadeIn(300),$("#main-heading").fadeIn(300),this.movePhone(void 0,void 0,!0),$(document).unbind("mousemove",this.moveHandler),this.mouseOffset=void 0}adjustInnerImageDimens(){this.actualImage=new Image,this.actualImage.src=phoneInnerImage.css("background-image").replace(/"/g,"").replace(/url\(|\)$/gi,""),$(this.actualImage).bind("load",this.innerImageLoadHandler.bind(this))}innerImageLoadHandler(){let e=this.actualImage.width,t=this.actualImage.height,i=$(window).height(),n=$(window).width(),o=i/t,a=e*o,s=t*o,h=a-n,r=h/2;this.bgPositionOffset=r,phoneInnerImage.css({backgroundSize:`${a}px ${s}px`}),this.movePhone()}mouseMoveHandler(e){let t=this.mouseOffset;if(!t)return;let i=e.clientX,n=e.clientY,o=i-t.x,a=n-t.y+$(window).scrollTop();this.movePhone(o,a)}snapTo(e,t,i){return e<=t?t:e>=i?i:e}}try{Webflow.push(setFullHeight),Webflow.push(initPhonePreviewer)}catch(e){console.log("error in landing-experience script")}