function updateModel(e,t,a,o){switch(t){case COLOR:e.updateMaterialColor(a,o);break;case TEXTURE:e.updateMaterialTexture(a,o)}}function updateRotation(){addonClick("#auto-rotate-button",()=>{rotateState=!rotateState,document.querySelector("#cycle-viewer").setAttribute("auto-rotate",rotateState),document.querySelector("#case-viewer").setAttribute("auto-rotate",rotateState),document.querySelector("#couch-viewer").setAttribute("auto-rotate",rotateState)})}function addonClick(e,t){$(e).on("click",t)}function handleCycle(){let e=document.querySelector("#cycle-viewer");addonClick("#auto-rotate-button",()=>{e.setAttribute("auto-rotate",!rotateState)}),addonClick("#red-color-btn",()=>updateModel(e,COLOR,"red body","red")),addonClick("#yellow-color-btn",()=>updateModel(e,COLOR,"red body","yellow")),addonClick("#green-color-btn",()=>updateModel(e,COLOR,"red body","#00ff2f")),addonClick("#black-handle-color-btn",()=>updateModel(e,COLOR,"black metal","black")),addonClick("#white-handle-color-btn",()=>updateModel(e,COLOR,"black metal","white")),addonClick("#grey-handle-color-btn",()=>updateModel(e,COLOR,"black metal","grey"))}function handlePhoneCase(){let e=document.querySelector("#case-viewer");addonClick("#upload-texture-btn",e=>{e.stopPropagation(),$("#case-texture").click()}),$("#case-texture").change(t=>{let a=t.target.files[0];updateModel(e,TEXTURE,"Image MAT",URL.createObjectURL(a)),$("#upload-texture-btn").css("background-image",`url("${URL.createObjectURL(a)}")`)})}function handleCouch(){let e=document.querySelector("#couch-viewer");addonClick("#couch-metallic",()=>convertImgToBase64URL(baseURL+"couch-texture-1.jpg",t=>updateModel(e,TEXTURE,"Leather",t))),addonClick("#couch-tiger",()=>convertImgToBase64URL(baseURL+"couch-texture-2.jpg",t=>updateModel(e,TEXTURE,"Leather",t))),addonClick("#couch-wood",()=>convertImgToBase64URL(baseURL+"couch-texture-3.jpg",t=>updateModel(e,TEXTURE,"Leather",t))),addonClick("#pillow-grey",()=>convertImgToBase64URL(baseURL+"pillow-texture-1.jpg",t=>updateModel(e,TEXTURE,"Pillow1",t))),addonClick("#pillow-fun",()=>convertImgToBase64URL(baseURL+"pillow-texture-2.jpg",t=>updateModel(e,TEXTURE,"Pillow1",t))),addonClick("#pillow-red",()=>convertImgToBase64URL(baseURL+"pillow-texture-3.jpg",t=>updateModel(e,TEXTURE,"Pillow1",t)))}function convertImgToBase64URL(e,t){let a=new Image;a.onload=function(){ctx=canvas.getContext("2d"),canvas.height=a.height,canvas.width=a.width,ctx.drawImage(a,0,0),canvas.toBlob(e=>{t(URL.createObjectURL(e))},"image/jpeg")},a.crossOrigin="anonymous",a.src=e}const baseURL="https://cameraah-labs.s3.ap-south-1.amazonaws.com/Website+assets/",COLOR=0,TEXTURE=1;var canvas=document.createElement("canvas");let rotateState=!1;handleCycle(),handlePhoneCase(),handleCouch(),updateRotation();